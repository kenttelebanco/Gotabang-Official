<body class="login-page">
  <div class="side-display">
    <img src="assets/icons/signinicon.png">
  </div>

  <mat-card class="app-login" *ngIf="openRegister! && openRecover!">
    <mat-card-content>
      <h2>Welcome To Gotabang!</h2>
      <p>Sign In Credentials</p>

      <form [formGroup]="signinform">
        <mat-form-field>
          <input matInput placeholder="Email" formControlName="email" #email required>
          <mat-error>
            Please provide a valid email address
          </mat-error>
        </mat-form-field>
        <mat-form-field>
          <input matInput type="password" placeholder="Password" formControlName="password" #password required>
          <mat-error>
            Please provide a valid password
          </mat-error>
        </mat-form-field>
        <div class="d-flex align-items-center submenu">
          <mat-checkbox class="example-margin">Remember me</mat-checkbox>
          <a (click)="clickToRecover()" class="forgot-pwd">Forgot pwd?</a>
        </div>
        <div class="d-flex align-items-center">
          <button class="mat-button-login" [disabled]="!signinform.valid" (click)="login(email.value,password.value)" mat-raised-button>Login</button>
        </div>
        <div class="d-flex align-items-center register">
          <p class="small fw-bold mt-2 pt-1 mb-0">Don't have an account?
              <a (click)="clickToRegister()" class="link-primary">Register</a></p>
        </div>
      </form>
    </mat-card-content>
</mat-card>

<mat-card class="app-register" *ngIf="openRegister==false">
  <mat-card-content>
    <form [formGroup]="registerform" >
      <header>Register to App</header>

      <mat-form-field>
        <input matInput placeholder="First Name" formControlName="fname" #fname required>
        <mat-error>
          You must include your first name.
        </mat-error>
      </mat-form-field>

      <mat-form-field>
        <input matInput placeholder="Last Name" formControlName="lname" #lname required>
        <mat-error>
          You must include your last name.
        </mat-error>
      </mat-form-field>

      <mat-form-field>
        <input matInput placeholder="Email Address" formControlName="email" #email required>
        <mat-error>
          You must include an email address.
        </mat-error>
      </mat-form-field>
      <mat-form-field>
        <input matInput type="password" placeholder="Password" formControlName="password" #password required>
        <mat-error>
          Passwords must be atleast 6 characters
        </mat-error>
      </mat-form-field>
      <mat-form-field>
          <input matInput type="password" placeholder="Confirm Password" formControlName="confirmPassword" required>
          <mat-error *ngIf="f['confirmPassword'].errors?.['mustMatch']">
            Passwords do not match
          </mat-error>
          <mat-error *ngIf="!f['confirmPassword'].errors?.['mustMatch']">
            Passwords must be atleast 6 characters
          </mat-error>
        </mat-form-field>

      <div class="d-flex align-items-center submenu">
        <mat-checkbox class="example-margin" formControlName="checkbox">I agree to the all <a class="link-primary">terms.</a></mat-checkbox>
      </div>
      <div class="d-flex align-items-center">
        <button class="mat-button-login" [disabled]="!registerform.valid" (click)="register(fname.value, lname.value, email.value,password.value)" mat-raised-button>Create Your Account</button>
      </div>
      <div class="d-flex align-items-center register">
        <p class="small fw-bold mt-2 pt-1 mb-0">Already have an account?
            <a (click)="clickToLogin()" class="link-primary">Login</a></p>
      </div>
    </form>
  </mat-card-content>
</mat-card>

<mat-card class="app-recover" *ngIf="openRecover==false">
  <mat-card-content>
    <form [formGroup]="recoverPassword" >
      <header>Recover Password</header>
      <a>Enter your email and we'll send you the <br> password reset link.</a>
      <mat-form-field>
        <input matInput placeholder="Email" formControlName="email" #email required>
        <mat-error>
          You must include an email address.
        </mat-error>
      </mat-form-field>
      <div class="d-flex align-items-center">
        <button class="mat-button-recover" [disabled]="!recoverPassword.valid" (click)="recover()" mat-raised-button>Send</button>
        <button class="mat-button-recover" (click)="clickToLogin()" mat-raised-button>Cancel</button>
      </div>
    </form>
  </mat-card-content>
</mat-card>
</body>
